{# templates/userSearch.html.twig #}
{% include 'header.html.twig'  with {'genres':genres, 'userPfp': userPfp} %}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/ComonStyles.css') }}">
    <link rel="stylesheet" href="{{ asset('css/Stories.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap">
{% endblock %}
{% block body %}
{% if error is defined %}
    {{ error }}
{% endif %}
<div class='primero container card'>
        <div class="card-title"><h2>Search results</h2></div>
        {% if users is defined and users|length > 0%}
            <div>
                Your users search for <span style="font-weight: bold;">{{ term }}</span> got {{ users|length }} results: <br>
            </div>
            {% for user in users %}
                {% if user.userId != 161 %}
                    <div class="user card">
                        <div class="card-body d-flex">
                            {% if user.imageBase64 is not null and user.imageBase64 is defined %}
                                <img src="data:image/jpg;charset=utf8;base64,{{ user.imageBase64}}" class="pfp">
                            {% else %}
                                <img src="{{ asset('Images/user.png') }}" class="pfp">
                            {% endif %}
                            <div class="userInfo">
                                <h6><a href="{{ path('otherProfile', {'id': user.userId })}}">{{ user.username }}</a></h6>
                            </div>
                        </div>
                    <div class="m-3 pb-2"><pre>About: {{ user.about }}</pre></div> 
                </div>
                {% endif %}
            {% endfor %}   
        {% else %}
            <h1 class="card">No users found with that term</h1>
        {% endif %}
    </div>
{% endblock %}